{"version":3,"sources":["../../../../../git/ctrnn.js/lib/index.js","../../../../../git/ctrnn.js/lib/ctrnn.js","../../../../../git/ctrnn.js/lib/sigmoid.js","components/Settings/index.tsx","components/Network/index.tsx","components/SineWave/index.tsx","components/PhasePortrait/index.tsx","sigmoid.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Object","defineProperty","exports","value","Ctrnn","ctrnn_1","require","enumerable","get","__assign","this","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","sigmoid_1","nodes","opts","Array","from","bias","timeConstant","weights","configurable","setNode","index","node","setWeight","to","weight","getOutput","frame","sigmoid","getOutputs","size","Error","map","tick","inputs","dt","final","push","getDelta","sum","j","activation","newFrame","z","Math","pow","exp","Settings","colors","Intent","PRIMARY","SUCCESS","label","props","ctrnn","id","min","max","stepSize","labelStepSize","intent","onChange","onChangeNode","labelValues","onChangeWeight","WARNING","stepsize","onChangeStepsize","React","Component","exampleData","links","Network","monitorHeight","refreshRate","width","height","graphData","SineWave","data","color","a","b","enablePoints","enableGridX","enableGridY","theme","textColor","grid","line","stroke","margin","top","bottom","left","right","xScale","x","type","yScale","isInteractive","PhasePortrait","canvasRef","divRef","createRef","element","ref","className","draw","canvas","current","context","getContext","clearRect","origin","y","translate","scale","lineWidth","beginPath","moveTo","lineTo","strokeStyle","forEach","row","point","points","pos","resetTransform","toFixed","toString","strokeText","div","component","resize","clientWidth","clientHeight","style","window","addEventListener","inverseSigmoid","log","field","steps","getField","App","state","fixed","phaseData","paused","updateNetwork","update","step","setState","outputs","biased","control","diff","mag","hypot","updateFixed","updatePhase","elevation","Elevation","ZERO","bind","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4eb322ad.chunk.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Ctrnn = void 0;\nvar ctrnn_1 = require(\"./ctrnn\");\nObject.defineProperty(exports, \"Ctrnn\", { enumerable: true, get: function () { return ctrnn_1.Ctrnn; } });\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Ctrnn = void 0;\nvar sigmoid_1 = require(\"./sigmoid\");\n/**\n * Continuous-Time Recurrent Neural Network (`CTRNN`) implementation for JS.\n *\n * # Example\n *\n * ```typescript\n * import Ctrnn from \"ctrnn.js\";\n * let ctrnn = new Ctrnn();\n * ```\n */\nvar Ctrnn = /** @class */ (function () {\n    function Ctrnn(nodes) {\n        if (nodes === void 0) { nodes = 4; }\n        var opts = { length: nodes };\n        this.nodes = Array.from(opts, function () { return ({ bias: 0, timeConstant: 1.0 }); });\n        this.weights = Array.from(opts, function () { return Array.from(opts, function () { return 0; }); });\n    }\n    Object.defineProperty(Ctrnn.prototype, \"size\", {\n        /**\n         * Get the number of nodes in the network\n         */\n        get: function () { return this.nodes.length; },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Set the `bias` and `timeConstant` parameters of a given node\n     */\n    Ctrnn.prototype.setNode = function (index, node) {\n        this.nodes[index] = __assign(__assign({}, this.nodes[index]), node);\n    };\n    /**\n     * Set the the given weight from one node to another\n     */\n    Ctrnn.prototype.setWeight = function (from, to, weight) {\n        this.weights[to][from] = weight;\n    };\n    /**\n     * Get the output activation of a specific node\n     */\n    Ctrnn.prototype.getOutput = function (frame, node) {\n        return sigmoid_1.sigmoid(frame[node] + this.nodes[node].bias);\n    };\n    /**\n     * Get the output activations of all nodes\n     */\n    Ctrnn.prototype.getOutputs = function (frame) {\n        if (frame.length != this.size)\n            throw new Error();\n        return this.nodes.map(function (node, index) { return sigmoid_1.sigmoid(frame[index] + node.bias); });\n    };\n    // TODO: Documentation\n    Ctrnn.prototype.tick = function (frame, inputs, dt) {\n        var final = [];\n        for (var i = 0; i < this.size; i++) {\n            final.push(inputs[i] || (frame[i] + this.getDelta(frame, i) * dt));\n        }\n        return final;\n    };\n    // TODO: Documentation\n    Ctrnn.prototype.getDelta = function (frame, node) {\n        var weights = this.weights[node];\n        var sum = 0;\n        for (var j = 0; j < this.size; j++) {\n            var activation = sigmoid_1.sigmoid(frame[j] + this.nodes[j].bias);\n            sum += weights[j] * activation;\n        }\n        return (sum - frame[node]) / this.nodes[node].timeConstant;\n    };\n    Ctrnn.newFrame = function (size) {\n        return Array.from({ length: size }, function () { return 0.0; });\n    };\n    return Ctrnn;\n}());\nexports.Ctrnn = Ctrnn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sigmoid = void 0;\nfunction sigmoid(z) {\n    return Math.pow(1 + Math.exp(-z), -1);\n}\nexports.sigmoid = sigmoid;\n","import { Callout, FormGroup, Intent, Slider, Text } from \"@blueprintjs/core\";\nimport React from \"react\";\nimport { Node } from 'ctrnn.js';\nimport \"./index.css\";\n\nexport type Structure = {\n  nodes: Node[],\n  weights: number[][]\n}\n\ntype SettingsProps = {\n  onChangeNode: (id: number, node: Node) => void,\n  onChangeWeight: (from: number, to: number, weight: number) => void,\n  onChangeStepsize: (step: number) => void,\n  stepsize: number,\n  ctrnn: Structure\n};\n\nexport class Settings extends React.Component<SettingsProps, {}> {\n  render() {\n    const colors = [Intent.PRIMARY, Intent.SUCCESS];\n    return <>\n      <FormGroup\n        label=\"Node Biases\"\n      >\n        {this.props.ctrnn.nodes.map((node, id) =>\n          <Slider key={id} value={node.bias}\n            min={-16.0} max={16.0} stepSize={0.001}\n            labelStepSize={4}\n            intent={colors[id]}\n            onChange={value => {\n              this.props.onChangeNode(id,\n                {timeConstant: node.timeConstant, bias: value}\n              );\n            }}\n            />\n        )}\n      </FormGroup>\n      <FormGroup\n        label=\"Node Time Constants\"\n      >\n        {this.props.ctrnn.nodes.map((node, id) =>\n          <Slider key={id} value={node.timeConstant}\n            min={0.5} max={10.0} stepSize={0.001}\n            labelValues={[0.5, 2, 4, 6, 8, 10]}\n            intent={colors[id]}\n            onChange={value => {\n              this.props.onChangeNode(id,\n                {timeConstant: value, bias: node.bias}\n              );\n            }}\n            />\n        )}\n      </FormGroup>\n      {this.props.ctrnn.weights.map((weights, to) =>\n        <FormGroup\n          label={`Incoming weights to Node ${to}`}\n        >\n          {weights.map((weight, from) =>\n            <Slider key={from + '-' + to} value={weight}\n              labelStepSize={4} intent={colors[from]}\n              min={-16.0} max={16.0} stepSize={0.001}\n              onChange={value => {\n                this.props.onChangeWeight(from, to, value);\n              }}\n              />\n          )}\n        </FormGroup>\n      )}\n      <FormGroup label=\"Step size\">\n        <Slider min={0.01} max={0.5} stepSize={0.001} intent={Intent.WARNING}\n          value={this.props.stepsize} onChange={this.props.onChangeStepsize}/>\n      </FormGroup>\n      </>\n  }\n}\n","import React from \"react\";\nimport { ForceGraph2D } from \"react-force-graph\";\nimport { SizeMe } from \"react-sizeme\";\n\nconst exampleData = {\n  nodes:[\n    {\"id\":\"node1\", \"__label\":\"Julia\"},\n    {\"id\":\"node2\", \"__label\":\"Bob\"},\n  ],\n  links:[\n    {\"id\":\"link1\", \"source\":\"node1\", \"target\":\"node2\"}\n  ]\n}\n\nexport class Network extends React.Component<{}, {}> {\n  render() {\n    return <SizeMe\n      monitorHeight\n      refreshRate={32}\n    >{\n      ({ size }) => <ForceGraph2D\n        width={size.width || 100} height={size.height || 100}\n        graphData={exampleData}\n        />\n      }</SizeMe>\n  }\n}\n","import { ResponsiveLineCanvas } from \"@nivo/line\";\nimport React from \"react\";\n\ntype Point = { x: number, y: number };\ntype SineWaveProps = {\n\ta: Point[],\n\tb: Point[]\n};\n\nexport class SineWave extends React.Component<SineWaveProps, {}> {\n\trender() {\n\t\tconst margin = 50;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<ResponsiveLineCanvas\n\t\t\t\t\tdata={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \"a\",\n\t\t\t\t\t\t\tcolor: \"rgb(255, 0, 0)\",\n\t\t\t\t\t\t\tdata: this.props.a\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \"b\",\n\t\t\t\t\t\t\tcolor: \"rgb(0, 255, 0)\",\n\t\t\t\t\t\t\tdata: this.props.b\n\t\t\t\t\t\t}\n\t\t\t\t\t]}\n\t\t\t\t\tenablePoints={false}\n\t\t\t\t\tenableGridX={true}\n\t\t\t\t\tenableGridY={true}\n\t\t\t\t\tcolors={[\"#137cbd\", \"#0f9960\"]}\n\t\t\t\t\ttheme={{textColor: \"#137cbd\", grid: {line: {stroke: \"#141414\"}}}}\n\t\t\t\t\tmargin={{top: margin, bottom: margin, left: margin, right: margin}}\n\t\t\t\t\txScale={{min: (this.props.a[0] || {x: 0}).x, type: \"linear\"}}\n\t\t\t\t\tyScale={{max: 1, min: 0, type: \"linear\"}}\n\t\t\t\t\tisInteractive={false}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t);\n\t}\n}\n","import React from \"react\"\nimport \"./index.css\"\n\ntype PhasePortaitProps = {\n  data: number[][][],\n  points: number[][],\n  margin: number\n};\n\nexport class PhasePortrait extends React.Component<PhasePortaitProps, {}> {\n  private canvasRef: React.RefObject<HTMLCanvasElement>;\n  private divRef: React.RefObject<HTMLDivElement>;\n\n  constructor(props: PhasePortaitProps) {\n    super(props);\n    this.canvasRef = React.createRef();\n    this.divRef = React.createRef();\n  }\n\n  render() {\n    const element = (\n      <div ref={this.divRef} className=\"PhasePortrait-div\">\n        <canvas ref={this.canvasRef}></canvas>\n      </div>\n    );\n\n    this.draw();\n\n    return element\n  }\n\n  draw() {\n    const canvas = this.canvasRef.current;\n    if (!canvas) return;\n    const context = canvas.getContext('2d');\n    if (!context) return;\n    const width = canvas.width, height = canvas.height;\n    const size = Math.min(width, height) - 2 * this.props.margin;\n    context.clearRect(0, 0, width, height);\n\n    const origin = {x: (width - size) / 2, y: (height - size) / 2};\n    context.translate(origin.x, origin.y);\n    context.scale(size, size);\n\n    context.lineWidth = 1.0 / size;\n    context.beginPath();\n    for (let t = 0; t < 1; t += 0.1) {\n      context.moveTo(0, t);\n      context.lineTo(1, t);\n      context.moveTo(t, 0);\n      context.lineTo(t, 1);\n    }\n    context.strokeStyle = \"#141414\";\n    context.stroke();\n\n    context.beginPath();\n    this.props.data.forEach((row, y) => {\n      // if (y != 10) return;\n      row.forEach((point, x) => {\n        context.moveTo(x / 20, 1 - y / 20);\n        context.lineTo(x / 20 + point[0] / 40, 1 - (y / 20 + point[1] / 40));\n      });\n    });\n    context.strokeStyle = \"#808080\";\n    context.stroke();\n\n    if (this.props.points.length) {\n      context.beginPath();\n      let pos = this.props.points[0];\n      context.moveTo(pos[0], 1 - pos[1]);\n      for (const point of this.props.points) {\n        context.lineTo(point[0], 1 - point[1]);\n      }\n      context.strokeStyle = \"#d9822b\";\n      context.stroke();\n    }\n\n    context.resetTransform();\n\n    context.lineWidth = 0.5;\n    context.translate(origin.x, origin.y);\n    const y = {x: -25, y: 5};\n    const x = {x: -8, y: 15};\n    for (let t = 0; t < 1.0; t += 0.1) {\n      const p = t.toFixed(1).toString();\n      context.strokeStyle = \"#0f9960\";\n      context.strokeText(p, y.x, y.y + (1-t) * size);\n      context.strokeStyle = \"#137cbd\";\n      context.strokeText(p, x.x + t * size, x.y + size);\n    }\n\n    context.resetTransform();\n  }\n\n  componentDidMount() {\n    const canvas = this.canvasRef.current!;\n    const div = this.divRef.current!;\n    const component = this;\n    function resize() {\n      canvas.width = div.clientWidth;\n      canvas.height = div.clientHeight;\n      canvas.style.width = canvas.width + \"px\";\n      canvas.style.height = canvas.height + \"px\";\n      component.draw();\n    }\n    window.addEventListener(\"resize\", resize);\n    resize();\n  }\n}\n","export type Point = [number, number];\n\nexport function inverseSigmoid(z: number): number {\n  const x = Math.min(Math.max(z, 0.01), 0.99);\n  return Math.log(x / (1 - x));\n}\n\nexport function getField(steps: number = 20): Point[][] {\n  const field = [];\n  for (let y = 0; y <= steps; y++) {\n    const row: Point[] = [];\n    let value = inverseSigmoid(y / steps);\n    for (let x = 0; x <= steps; x++) {\n      row[x] = [inverseSigmoid(x / steps), value];\n    }\n    field[y] = row;\n  }\n  return field;\n}\n","import React from 'react';\nimport './App.css';\nimport { Card, Elevation } from '@blueprintjs/core';\nimport { Settings, Structure } from './components/Settings';\nimport { Network } from './components/Network';\nimport { SineWave } from './components/SineWave';\nimport { Ctrnn, Node } from 'ctrnn.js';\nimport { PhasePortrait } from './components/PhasePortrait';\nimport { getField } from \"./sigmoid\";\n\nconst field = getField();\n\ntype Point = { x: number, y: number };\ntype AppState = {\n  frame: number,\n  ctrnn: Structure,\n  data: { a: Point[], b: Point[] },\n  fixed: { a: Point[], b: Point[] },\n  phaseData: number[][][],\n  points: number[][],\n  stepsize: number\n}\n\nclass App extends React.Component<{}, AppState> {\n  state: AppState = {\n    frame: 0,\n    data: { a: [], b: [] },\n    fixed: { a: [], b: [] },\n    phaseData: [],\n    points: [],\n    stepsize: 0.2,\n    ctrnn: {\n      nodes: [\n        { bias: -2.75, timeConstant: 1.0 },\n        { bias: -1.75, timeConstant: 1.0 },\n      ],\n      weights: [\n        [4.5, 1.0],\n        [-1.0, 4.5]\n      ]\n    }\n  };\n  private ctrnn: Ctrnn = new Ctrnn(2);\n  private paused: boolean = false;\n\n  updateNetwork(ctrnn: Ctrnn) {\n    this.state.ctrnn.nodes.forEach((node, index) => {\n      ctrnn.setNode(index, node);\n    });\n    this.state.ctrnn.weights.forEach((weights, to) => {\n      weights.forEach((weight, from) => {\n        ctrnn.setWeight(from, to, weight);\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.updateNetwork(this.ctrnn);\n    this.update();\n  }\n\n  onClick() {\n    this.paused = !this.paused;\n  }\n\n  onChangeNode(id: number, node: Node) {\n    this.state.ctrnn.nodes[id] = node;\n    this.ctrnn.setNode(id, node);\n    this.update();\n  }\n\n  onChangeWeight(from: number, to: number, weight: number) {\n    this.state.ctrnn.weights[to][from] = weight;\n    this.ctrnn.setWeight(from, to, weight);\n    this.update();\n  }\n\n  onChangeStepsize(step: number) {\n    this.setState({stepsize: step});\n    this.update();\n  }\n\n  updateFixed() {\n    let ctrnn = new Ctrnn(2);\n    this.updateNetwork(ctrnn);\n    const data: { a: Point[], b: Point[] } = {a: [], b: []};\n    const points: number[][] = [];\n    let frame = [0, 0];\n    for (let i = 0; i < 500; i++) {\n      frame = ctrnn.tick(frame, [], this.state.stepsize);\n      if (i % 5 === 0) {\n        const outputs = ctrnn.getOutputs(frame);\n        data.a.push({x: i, y: outputs[0]});\n        data.b.push({x: i, y: outputs[1]});\n        points.push(outputs);\n      }\n    }\n    this.setState({fixed: data, points: points});\n  }\n\n  updatePhase() {\n    let ctrnn = new Ctrnn(2);\n    this.updateNetwork(ctrnn);\n    const data: number[][][] = [];\n    field.forEach((row, y) => {\n      const line: number[][] = [];\n      row.forEach((point, x) => {\n        const biased = [\n          point[0] - this.state.ctrnn.nodes[0].bias,\n          point[1] - this.state.ctrnn.nodes[1].bias\n        ];\n        const control = ctrnn.getOutputs(biased);\n        const frame = ctrnn.tick(biased, [], this.state.stepsize);\n        const outputs = ctrnn.getOutputs(frame);\n        const diff = [outputs[0] - control[0], outputs[1] - control[1]];\n        const mag = Math.hypot(diff[0], diff[1]);\n        // const sqr = Math.sqrt(mag);\n        line.push([diff[0] / mag, diff[1] / mag]);\n      });\n      data.push(line);\n    });\n    this.setState({phaseData: data});\n  }\n\n  update() {\n    this.updateFixed();\n    this.updatePhase();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"Dashboard\">\n          <div className=\"Settings\">\n            <Card elevation={Elevation.ZERO}>\n              <Settings\n                ctrnn={this.state.ctrnn}\n                onChangeNode={this.onChangeNode.bind(this)}\n                onChangeWeight={this.onChangeWeight.bind(this)}\n                onChangeStepsize={this.onChangeStepsize.bind(this)}\n                stepsize={this.state.stepsize}\n              />\n            </Card>\n          </div>\n          <div className=\"Network\">\n            <Card elevation={Elevation.ZERO}>\n              <Network />\n            </Card>\n          </div>\n          <div className=\"SineWave\">\n            <Card elevation={Elevation.ZERO}>\n              <SineWave a={this.state.fixed.a} b={this.state.fixed.b} />\n            </Card>\n          </div>\n          <div className=\"PhasePortrait\">\n            <Card elevation={Elevation.ZERO}>\n              <PhasePortrait margin={15} data={this.state.phaseData}\n                points={this.state.points} />\n            </Card>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}