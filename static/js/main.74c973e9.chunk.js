(this["webpackJsonpctrnn-visualizer"]=this["webpackJsonpctrnn-visualizer"]||[]).push([[0],{161:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CTRNN=void 0;var i=n(553);Object.defineProperty(e,"CTRNN",{enumerable:!0,get:function(){return i.CTRNN}})},338:function(t,e,n){},339:function(t,e,n){},340:function(t,e,n){},553:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.CTRNN=void 0;var a=n(554),s=function(){function t(t){void 0===t&&(t=4);var e={length:t};this.count=t,this.nodes=Array.from(e,(function(){return{bias:0,timeConstant:1}})),this.weights=Array.from(e,(function(){return Array.from(e,(function(){return 0}))})),this.states=Array.from(e,(function(){return 0}))}return Object.defineProperty(t.prototype,"outputs",{get:function(){for(var t=[],e=0;e<this.count;e++)t.push(a.sigmoid(this.states[e]+this.nodes[e].bias));return t},enumerable:!1,configurable:!0}),t.prototype.setNode=function(t,e){this.nodes[t]=i(i({},this.nodes[t]),e)},t.prototype.setWeight=function(t,e,n){this.weights[e][t]=n},t.prototype.setBias=function(t,e){this.nodes[t].bias=e},t.prototype.setTimeConstant=function(t,e){this.nodes[t].timeConstant=e},t.prototype.tick=function(t,e){for(var n=[],i=0;i<this.count;i++)n.push(t[i]||this.states[i]+this.getDelta(i)*e);this.states=n},t.prototype.getDelta=function(t){for(var e=this.weights[t],n=0,i=0;i<this.count;i++){var s=a.sigmoid(this.states[i]+this.nodes[i].bias);n+=e[i]*s}return(n-this.states[t])/this.nodes[t].timeConstant},t}();e.CTRNN=s},554:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sigmoid=void 0,e.sigmoid=function(t){return Math.pow(1+Math.exp(-t),-1)}},555:function(t,e,n){"use strict";n.r(e);var i=n(1),a=n.n(i),s=n(32),o=n.n(s),r=(n(338),n(3)),c=n(4),h=n(5),u=n(6),d=(n(339),n(609)),l=n(59),b=n(58),p=(n(340),n(16)),f=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this,e=[b.a.PRIMARY,b.a.SUCCESS];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(d.c,{label:"Node Biases",children:this.props.ctrnn.nodes.map((function(n,i){return Object(p.jsx)(d.d,{value:n.bias,min:-3,max:3,stepSize:.001,intent:e[i],onChange:function(e){t.props.onChangeNode(i,{timeConstant:n.timeConstant,bias:e})}},i)}))}),Object(p.jsx)(d.c,{label:"Node Time Constants",children:this.props.ctrnn.nodes.map((function(n,i){return Object(p.jsx)(d.d,{value:n.timeConstant,min:.001,max:2,stepSize:.001,intent:e[i],onChange:function(e){t.props.onChangeNode(i,{timeConstant:e,bias:n.bias})}},i)}))}),this.props.ctrnn.weights.map((function(n,i){return Object(p.jsx)(d.c,{label:"Incoming weights to Node ".concat(i),children:n.map((function(n,a){return Object(p.jsx)(d.d,{value:n,labelStepSize:2.5,intent:e[a],min:-5,max:5,stepSize:.001,onChange:function(e){t.props.onChangeWeight(a,i,e)}},a+"-"+i)}))})})),Object(p.jsx)(d.a,{icon:"help",title:"Information",children:Object(p.jsx)(d.e,{className:"information"})})]})}}]),n}(a.a.Component),j=n(261),g=n(254),m={nodes:[{id:"node1",__label:"Julia"},{id:"node2",__label:"Bob"}],links:[{id:"link1",source:"node1",target:"node2"}]},v=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(p.jsx)(g.SizeMe,{monitorHeight:!0,refreshRate:32,children:function(t){var e=t.size;return Object(p.jsx)(j.a,{width:e.width||100,height:e.height||100,graphData:m})}})}}]),n}(a.a.Component),O=n(262),x=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(O.a,{data:[{id:"a",color:"rgb(255, 0, 0)",data:this.props.a},{id:"b",color:"rgb(0, 255, 0)",data:this.props.b}],enablePoints:!1,enableGridX:!0,enableGridY:!0,colors:["#137cbd","#0f9960"],theme:{textColor:"#137cbd",grid:{line:{stroke:"#141414"}}},margin:{top:50,bottom:50,left:50,right:50},xScale:{min:(this.props.a[0]||{x:0}).x,type:"linear"},yScale:{max:1,min:0,type:"linear"},isInteractive:!1})})}}]),n}(a.a.Component),C=n(161),y=function(t){Object(h.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(r.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={frame:0,data:{a:[],b:[]},fixed:{a:[],b:[]},ctrnn:{nodes:[{bias:-2.75,timeConstant:1},{bias:-1.75,timeConstant:1}],weights:[[4.5,1],[-1,4.5]]}},t.ctrnn=new C.CTRNN(2),t.paused=!1,t}return Object(c.a)(n,[{key:"updateNetwork",value:function(t){this.state.ctrnn.nodes.forEach((function(e,n){t.setNode(n,e)})),this.state.ctrnn.weights.forEach((function(e,n){e.forEach((function(e,i){t.setWeight(i,n,e)}))}))}},{key:"componentDidMount",value:function(){var t=this;this.updateNetwork(this.ctrnn),this.updateFixed();setInterval((function(){if(!t.paused){t.ctrnn.tick([],.2);var e=t.ctrnn.outputs,n=t.state.data;n.a.push({x:t.state.frame,y:e[0]}),n.b.push({x:t.state.frame,y:e[1]}),n.a.length>500&&n.a.shift(),n.b.length>500&&n.b.shift(),t.setState({data:n,frame:t.state.frame+1})}}),5)}},{key:"onClick",value:function(){this.paused=!this.paused}},{key:"onChangeNode",value:function(t,e){this.state.ctrnn.nodes[t]=e,this.ctrnn.setNode(t,e),this.updateFixed()}},{key:"onChangeWeight",value:function(t,e,n){this.state.ctrnn.weights[e][t]=n,this.ctrnn.setWeight(t,e,n),this.updateFixed()}},{key:"updateFixed",value:function(){var t=new C.CTRNN(2);this.updateNetwork(t);for(var e={a:[],b:[]},n=0;n<500;n++)if(t.tick([],.2),n%5===0){var i=t.outputs;e.a.push({x:n,y:i[0]}),e.b.push({x:n,y:i[1]})}this.setState({fixed:e})}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)("div",{className:"Dashboard",children:[Object(p.jsx)("div",{className:"Settings",children:Object(p.jsx)(d.b,{elevation:l.a.ZERO,children:Object(p.jsx)(f,{ctrnn:this.state.ctrnn,onChangeNode:this.onChangeNode.bind(this),onChangeWeight:this.onChangeWeight.bind(this)})})}),Object(p.jsx)("div",{className:"Network",children:Object(p.jsx)(d.b,{elevation:l.a.ZERO,children:Object(p.jsx)(v,{})})}),Object(p.jsx)("div",{className:"SineWaveLive",onClick:this.onClick.bind(this),children:Object(p.jsx)(d.b,{elevation:l.a.ZERO,children:Object(p.jsx)(x,{a:this.state.data.a,b:this.state.data.b})})}),Object(p.jsx)("div",{className:"SineWave",children:Object(p.jsx)(d.b,{elevation:l.a.ZERO,children:Object(p.jsx)(x,{a:this.state.fixed.a,b:this.state.fixed.b})})})]})})}}]),n}(a.a.Component),N=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,613)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,s=e.getLCP,o=e.getTTFB;n(t),i(t),a(t),s(t),o(t)}))};o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(y,{})}),document.getElementById("root")),N()}},[[555,1,2]]]);
//# sourceMappingURL=main.74c973e9.chunk.js.map