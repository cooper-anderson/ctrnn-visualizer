{"version":3,"sources":["../../ctrnn.js/lib/index.js","../../ctrnn.js/lib/ctrnn.js","../../ctrnn.js/lib/sigmoid.js","components/Settings/index.tsx","components/Network/index.tsx","components/SineWave/index.tsx","components/PhysicalGraph/index.tsx","components/PhasePortrait/index.tsx","sigmoid.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Object","defineProperty","exports","value","Ctrnn","ctrnn_1","require","enumerable","get","sigmoid_1","nodes","opts","length","this","Array","from","bias","timeConstant","weights","index","node","assign","to","weight","frame","sigmoid","size","Error","map","output","voltage","inverseSigmoid","inputs","dt","final","i","push","getDelta","sum","j","activation","z","Math","pow","exp","x","min","max","log","Settings","colors","Intent","PRIMARY","SUCCESS","full","DANGER","WARNING","label","props","ctrnn","id","stepSize","labelStepSize","intent","onChange","onChangeNode","labelValues","onChangeWeight","stepsize","onChangeStepsize","React","Component","exampleData","links","Network","monitorHeight","refreshRate","width","height","graphData","SineWave","data","color","a","b","axisLeft","legend","legendPosition","legendOffset","axisBottom","enablePoints","enableGridX","enableGridY","theme","textColor","grid","line","stroke","margin","top","bottom","left","right","xScale","type","yScale","isInteractive","PhysicalGraph","canvasRef","divRef","createRef","element","ref","className","draw","radius","canvas","current","context","getContext","clearRect","origin","y","translate","scale","lineWidth","beginPath","arc","PI","strokeStyle","fillStyle","globalAlpha","fill","bezierCurveTo","moveTo","lineTo","resetTransform","div","component","resize","clientWidth","clientHeight","style","window","addEventListener","PhasePortrait","onClick","click","bind","position","center","offset","offsetLeft","offsetTop","event","pos","screenToGraphSpace","clientX","clientY","onChangeStart","t","forEach","row","point","points","p","toFixed","toString","strokeText","field","steps","getField","App","state","fixed","phaseData","paused","start","animating","setNode","setWeight","updateNetwork","update","app","old","dist","hypot","duration","round","requestAnimationFrame","animate","setState","frameFromOutput","initial","getOutputs","last_x","s","tick","outputs","floor","last","next","console","biased","control","diff","mag","updateFixed","updatePhase","elevation","Elevation","ZERO","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f30a1873.chunk.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Ctrnn = void 0;\nvar ctrnn_1 = require(\"./ctrnn\");\nObject.defineProperty(exports, \"Ctrnn\", { enumerable: true, get: function () { return ctrnn_1.Ctrnn; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Ctrnn = void 0;\nconst sigmoid_1 = require(\"./sigmoid\");\n/**\n * Continuous-Time Recurrent Neural Network (`CTRNN`) implementation for JS.\n *\n * # Example\n *\n * ```typescript\n * import Ctrnn from \"ctrnn.js\";\n * let ctrnn = new Ctrnn();\n * ```\n */\nclass Ctrnn {\n    constructor(nodes = 4) {\n        let opts = { length: nodes };\n        this.nodes = Array.from(opts, () => ({ bias: 0, timeConstant: 1.0 }));\n        this.weights = Array.from(opts, () => Array.from(opts, () => 0));\n    }\n    /**\n     * Get the number of nodes in the network\n     */\n    get size() { return this.nodes.length; }\n    /**\n     * Set the `bias` and `timeConstant` parameters of a given node\n     */\n    setNode(index, node) {\n        this.nodes[index] = Object.assign(Object.assign({}, this.nodes[index]), node);\n    }\n    /**\n     * Set the the given weight from one node to another\n     */\n    setWeight(from, to, weight) {\n        this.weights[to][from] = weight;\n    }\n    /**\n     * Get the output activation of a specific node\n     */\n    getOutput(frame, node) {\n        return sigmoid_1.sigmoid(frame[node] + this.nodes[node].bias);\n    }\n    /**\n     * Get the output activations of all nodes\n     */\n    getOutputs(frame) {\n        if (frame.length != this.size)\n            throw new Error();\n        return this.nodes.map((node, index) => sigmoid_1.sigmoid(frame[index] + node.bias));\n    }\n    frameFromOutput(output) {\n        if (output.length != this.size)\n            throw new Error();\n        return output.map((voltage, index) => sigmoid_1.inverseSigmoid(voltage) - this.nodes[index].bias);\n    }\n    // TODO: Documentation\n    tick(frame, inputs, dt) {\n        const final = [];\n        for (let i = 0; i < this.size; i++) {\n            final.push(inputs[i] || (frame[i] + this.getDelta(frame, i) * dt));\n        }\n        return final;\n    }\n    // TODO: Documentation\n    getDelta(frame, node) {\n        const weights = this.weights[node];\n        let sum = 0;\n        for (let j = 0; j < this.size; j++) {\n            const activation = sigmoid_1.sigmoid(frame[j] + this.nodes[j].bias);\n            sum += weights[j] * activation;\n        }\n        return (sum - frame[node]) / this.nodes[node].timeConstant;\n    }\n    static newFrame(size) {\n        return Array.from({ length: size }, () => 0.0);\n    }\n}\nexports.Ctrnn = Ctrnn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.inverseSigmoid = exports.sigmoid = void 0;\nfunction sigmoid(z) {\n    return Math.pow(1 + Math.exp(-z), -1);\n}\nexports.sigmoid = sigmoid;\nfunction inverseSigmoid(z) {\n    const x = Math.min(Math.max(z, 0.01), 0.99);\n    return Math.log(x / (1 - x));\n}\nexports.inverseSigmoid = inverseSigmoid;\n","import { Callout, FormGroup, Intent, Slider, Text } from \"@blueprintjs/core\";\nimport React from \"react\";\nimport { Node } from 'ctrnn.js';\nimport \"./index.css\";\n\nexport type Structure = {\n  nodes: Node[],\n  weights: number[][]\n}\n\ntype SettingsProps = {\n  onChangeNode: (id: number, node: Node) => void,\n  onChangeWeight: (from: number, to: number, weight: number) => void,\n  onChangeStepsize: (step: number) => void,\n  stepsize: number,\n  ctrnn: Structure\n};\n\nexport class Settings extends React.Component<SettingsProps, {}> {\n  render() {\n    const colors = [Intent.PRIMARY, Intent.SUCCESS];\n    const full = [[Intent.PRIMARY, Intent.DANGER], [Intent.WARNING, Intent.SUCCESS]];\n    return <>\n      <FormGroup\n        label=\"Node Biases\"\n      >\n        {this.props.ctrnn.nodes.map((node, id) =>\n          <Slider key={id} value={node.bias}\n            min={-16.0} max={16.0} stepSize={0.001}\n            labelStepSize={4}\n            intent={colors[id]}\n            onChange={value => {\n              this.props.onChangeNode(id,\n                {timeConstant: node.timeConstant, bias: value}\n              );\n            }}\n            />\n        )}\n      </FormGroup>\n      <FormGroup\n        label=\"Node Time Constants\"\n      >\n        {this.props.ctrnn.nodes.map((node, id) =>\n          <Slider key={id} value={node.timeConstant}\n            min={0.5} max={10.0} stepSize={0.001}\n            labelValues={[0.5, 2, 4, 6, 8, 10]}\n            intent={colors[id]}\n            onChange={value => {\n              this.props.onChangeNode(id,\n                {timeConstant: value, bias: node.bias}\n              );\n            }}\n            />\n        )}\n      </FormGroup>\n      {this.props.ctrnn.weights.map((weights, to) =>\n        <FormGroup\n          label={`Incoming weights to Node ${to}`}\n        >\n          {weights.map((weight, from) =>\n            <Slider key={from + '-' + to} value={weight}\n              labelStepSize={4} intent={full[from][to]}\n              min={-16.0} max={16.0} stepSize={0.001}\n              onChange={value => {\n                this.props.onChangeWeight(from, to, value);\n              }}\n              />\n          )}\n        </FormGroup>\n      )}\n      <FormGroup label=\"Step size\">\n        <Slider min={0.01} max={1.0} stepSize={0.001} intent={Intent.WARNING}\n          labelValues={[0.01, 0.25, 0.5, 0.75, 1]}\n          value={this.props.stepsize} onChange={this.props.onChangeStepsize}/>\n      </FormGroup>\n      </>\n  }\n}\n","import React from \"react\";\nimport { ForceGraph2D } from \"react-force-graph\";\nimport { SizeMe } from \"react-sizeme\";\n\nconst exampleData = {\n  nodes:[\n    {\"id\":\"node1\", \"__label\":\"Julia\"},\n    {\"id\":\"node2\", \"__label\":\"Bob\"},\n  ],\n  links:[\n    {\"id\":\"link1\", \"source\":\"node1\", \"target\":\"node2\"}\n  ]\n}\n\nexport class Network extends React.Component<{}, {}> {\n  render() {\n    return <SizeMe\n      monitorHeight\n      refreshRate={32}\n    >{\n      ({ size }) => <ForceGraph2D\n        width={size.width || 100} height={size.height || 100}\n        graphData={exampleData}\n        />\n      }</SizeMe>\n  }\n}\n","import { ResponsiveLineCanvas } from \"@nivo/line\";\nimport React from \"react\";\n\ntype Point = { x: number, y: number };\ntype SineWaveProps = {\n\ta: Point[],\n\tb: Point[]\n};\n\nexport class SineWave extends React.Component<SineWaveProps, {}> {\n\trender() {\n\t\tconst margin = 50;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<ResponsiveLineCanvas\n\t\t\t\t\tdata={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \"a\",\n\t\t\t\t\t\t\tcolor: \"rgb(255, 0, 0)\",\n\t\t\t\t\t\t\tdata: this.props.a\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: \"b\",\n\t\t\t\t\t\t\tcolor: \"rgb(0, 255, 0)\",\n\t\t\t\t\t\t\tdata: this.props.b\n\t\t\t\t\t\t}\n\t\t\t\t\t]}\n\t\t\t\t\taxisLeft={{legend: \"Activation\", legendPosition: \"middle\", legendOffset: -40}}\n\t\t\t\t\taxisBottom={{legend: \"Time\", legendPosition: \"middle\", legendOffset: 40}}\n\t\t\t\t\tenablePoints={false}\n\t\t\t\t\tenableGridX={true}\n\t\t\t\t\tenableGridY={true}\n\t\t\t\t\tcolors={[\"#137cbd\", \"#0f9960\"]}\n\t\t\t\t\ttheme={{textColor: \"#137cbd\", grid: {line: {stroke: \"#141414\"}}}}\n\t\t\t\t\tmargin={{top: margin, bottom: margin, left: margin, right: margin}}\n\t\t\t\t\txScale={{min: (this.props.a[0] || {x: 0}).x, max: 30, type: \"linear\"}}\n\t\t\t\t\tyScale={{max: 1, min: 0, type: \"linear\"}}\n\t\t\t\t\tisInteractive={false}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t);\n\t}\n}\n","import React from \"react\";\nimport \"./index.css\"\n\ntype Point = { x: number, y: number };\ntype PhysicalGraphProps = {\n\ta: Point[],\n\tb: Point[],\n  margin: number,\n};\n\nexport class PhysicalGraph extends React.Component<PhysicalGraphProps, {}> {\n  private canvasRef: React.RefObject<HTMLCanvasElement>;\n  private divRef: React.RefObject<HTMLDivElement>;\n\n  constructor(props: PhysicalGraphProps) {\n    super(props);\n    this.canvasRef = React.createRef();\n    this.divRef = React.createRef();\n  }\n\n  render() {\n    const element = (\n      <div ref={this.divRef} className=\"PhysicalGraph-div\">\n        <canvas ref={this.canvasRef}></canvas>\n      </div>\n    );\n\n    this.draw();\n\n    return element\n  }\n\n  draw() {\n    const radius = 0.1;\n    const arrow = 0.025;\n    const canvas = this.canvasRef.current;\n    if (!canvas) return;\n    const context = canvas.getContext('2d');\n    if (!context) return;\n    const width = canvas.width, height = canvas.height;\n    const size = Math.min(width, height) - 2 * this.props.margin;\n    context.clearRect(0, 0, width, height);\n\n    const origin = {x: (width - size) / 2, y: (height - size) / 2};\n    context.translate(origin.x, origin.y);\n    context.scale(size, size);\n    context.lineWidth = 5.0 / size;\n\n    context.beginPath()\n    context.arc(0.25, 0.25, radius, 0, 2 * Math.PI);\n    context.strokeStyle = \"#137cbd\";\n    context.fillStyle = \"#137cbd\";\n    context.globalAlpha = 1.0;\n    context.stroke();\n    context.globalAlpha = 0.5;\n    context.fill()\n\n    context.beginPath()\n    context.arc(0.75, 0.75, radius, 0, 2 * Math.PI);\n    context.strokeStyle = \"#0f9960\";\n    context.fillStyle = \"#0f9960\";\n    context.globalAlpha = 1.0;\n    context.stroke();\n    context.globalAlpha = 0.5;\n    context.fill()\n\n    context.lineWidth = 3.0 / size;\n    context.beginPath()\n    context.bezierCurveTo(0.25 + radius, 0.25, 0.75, 0.25, 0.75, 0.75 - radius);\n    context.moveTo(0.25 + radius + arrow, 0.25 - arrow);\n    context.lineTo(0.25 + radius, 0.25);\n    context.lineTo(0.25 + radius + arrow, 0.25 + arrow);\n    context.strokeStyle = \"#d9822b\";\n    context.stroke()\n\n    context.beginPath()\n    context.bezierCurveTo(0.25, 0.25 + radius, 0.25, 0.75, 0.75 - radius, 0.75);\n    context.moveTo(0.75 - radius - arrow, 0.75 - arrow);\n    context.lineTo(0.75 - radius, 0.75);\n    context.lineTo(0.75 - radius - arrow, 0.75 + arrow);\n    context.strokeStyle = \"#db3737\";\n    context.stroke()\n\n    context.beginPath()\n    context.arc(0.25 - radius, 0.25 - radius, radius, 0, Math.PI / 2, true);\n    context.moveTo(0.25 - arrow, 0.25 - radius - arrow);\n    context.lineTo(0.25, 0.25 - radius);\n    context.lineTo(0.25 + arrow, 0.25 - radius - arrow);\n    context.strokeStyle = \"#137cbd\";\n    context.stroke()\n\n    context.beginPath()\n    context.arc(0.75 + radius, 0.75 + radius, radius, Math.PI, 3 * Math.PI / 2, true);\n    context.moveTo(0.75 - arrow, 0.75 + radius + arrow);\n    context.lineTo(0.75, 0.75 + radius);\n    context.lineTo(0.75 + arrow, 0.75 + radius + arrow);\n    context.strokeStyle = \"#0f9960\";\n    context.stroke()\n\n    context.resetTransform();\n  }\n\n  componentDidMount() {\n    const canvas = this.canvasRef.current!;\n    const div = this.divRef.current!;\n    const component = this;\n    function resize() {\n      canvas.width = div.clientWidth;\n      canvas.height = div.clientHeight;\n      canvas.style.width = canvas.width + \"px\";\n      canvas.style.height = canvas.height + \"px\";\n      component.draw();\n    }\n    window.addEventListener(\"resize\", resize);\n    resize();\n  }\n}\n","import React from \"react\"\nimport \"./index.css\"\n\ntype Point = {x: number, y: number};\ntype PhasePortaitProps = {\n  data: number[][][],\n  points: number[][],\n  margin: number,\n  onChangeStart: (point: Point) => void\n};\n\nexport class PhasePortrait extends React.Component<PhasePortaitProps, {}> {\n  private canvasRef: React.RefObject<HTMLCanvasElement>;\n  private divRef: React.RefObject<HTMLDivElement>;\n\n  constructor(props: PhasePortaitProps) {\n    super(props);\n    this.canvasRef = React.createRef();\n    this.divRef = React.createRef();\n  }\n\n  render() {\n    const element = (\n      <div ref={this.divRef} className=\"PhasePortrait-div\">\n        <canvas ref={this.canvasRef} onClick={this.click.bind(this)}></canvas>\n      </div>\n    );\n\n    this.draw();\n\n    return element\n  }\n\n  screenToGraphSpace(position: Point): Point {\n    const canvas = this.canvasRef.current;\n    if (!canvas) return {x: 0.5, y: 0.5};\n    const center = { x: canvas.width / 2, y: canvas.height / 2 };\n    const click = {\n      x: position.x - canvas.offsetLeft,\n      y: position.y - canvas.offsetTop\n    };\n    const offset = { x: click.x - center.x, y: click.y - center.y };\n    const size = Math.min(canvas.width, canvas.height) - 2 * this.props.margin;\n    return { x: 0.5 + offset.x / size, y: 0.5 - offset.y / size };\n  }\n\n  click(event: React.MouseEvent<HTMLCanvasElement>) {\n    const pos = this.screenToGraphSpace({x: event.clientX, y: event.clientY});\n    this.props.onChangeStart(pos);\n  }\n\n  draw() {\n    const canvas = this.canvasRef.current;\n    if (!canvas) return;\n    const context = canvas.getContext('2d');\n    if (!context) return;\n    const width = canvas.width, height = canvas.height;\n    const size = Math.min(width, height) - 2 * this.props.margin;\n    context.clearRect(0, 0, width, height);\n\n    const origin = {x: (width - size) / 2, y: (height - size) / 2};\n    context.translate(origin.x, origin.y);\n    context.scale(size, size);\n\n    context.lineWidth = 1.0 / size;\n    context.beginPath();\n    for (let t = 0; t < 1; t += 0.1) {\n      context.moveTo(0, t);\n      context.lineTo(1, t);\n      context.moveTo(t, 0);\n      context.lineTo(t, 1);\n    }\n    context.strokeStyle = \"#141414\";\n    context.stroke();\n\n    context.beginPath();\n    this.props.data.forEach((row, y) => {\n      // if (y != 10) return;\n      row.forEach((point, x) => {\n        context.moveTo(x / 20, 1 - y / 20);\n        context.lineTo(x / 20 + point[0] / 40, 1 - (y / 20 + point[1] / 40));\n      });\n    });\n    context.strokeStyle = \"#808080\";\n    context.stroke();\n\n    if (this.props.points.length) {\n      context.beginPath();\n      let pos = this.props.points[0];\n      context.moveTo(pos[0], 1 - pos[1]);\n      for (const point of this.props.points) {\n        context.lineTo(point[0], 1 - point[1]);\n      }\n      context.strokeStyle = \"#d9822b\";\n      context.stroke();\n    }\n\n    context.resetTransform();\n\n    context.lineWidth = 0.5;\n    context.translate(origin.x, origin.y);\n    const y = {x: -25, y: 5};\n    const x = {x: -8, y: 15};\n    for (let t = 0; t < 1.0; t += 0.1) {\n      const p = t.toFixed(1).toString();\n      context.strokeStyle = \"#0f9960\";\n      context.strokeText(p, y.x, y.y + (1-t) * size);\n      context.strokeStyle = \"#137cbd\";\n      context.strokeText(p, x.x + t * size, x.y + size);\n    }\n\n    context.resetTransform();\n  }\n\n  componentDidMount() {\n    const canvas = this.canvasRef.current!;\n    const div = this.divRef.current!;\n    const component = this;\n    function resize() {\n      canvas.width = div.clientWidth;\n      canvas.height = div.clientHeight;\n      canvas.style.width = canvas.width + \"px\";\n      canvas.style.height = canvas.height + \"px\";\n      component.draw();\n    }\n    window.addEventListener(\"resize\", resize);\n    resize();\n  }\n}\n","export type Point = [number, number];\n\nexport function inverseSigmoid(z: number): number {\n  const x = Math.min(Math.max(z, 0.01), 0.99);\n  return Math.log(x / (1 - x));\n}\n\nexport function getField(steps: number = 20): Point[][] {\n  const field = [];\n  for (let y = 0; y <= steps; y++) {\n    const row: Point[] = [];\n    let value = inverseSigmoid(y / steps);\n    for (let x = 0; x <= steps; x++) {\n      row[x] = [inverseSigmoid(x / steps), value];\n    }\n    field[y] = row;\n  }\n  return field;\n}\n","import React from 'react';\nimport './App.css';\nimport { Card, Elevation } from '@blueprintjs/core';\nimport { Settings, Structure } from './components/Settings';\nimport { Network } from './components/Network';\nimport { SineWave } from './components/SineWave';\nimport { PhysicalGraph } from './components/PhysicalGraph';\nimport { Ctrnn, Node } from 'ctrnn.js';\nimport { PhasePortrait } from './components/PhasePortrait';\nimport { getField } from \"./sigmoid\";\n\nconst field = getField();\n\ntype Point = { x: number, y: number };\ntype AppState = {\n  frame: number,\n  ctrnn: Structure,\n  data: { a: Point[], b: Point[] },\n  fixed: { a: Point[], b: Point[] },\n  phaseData: number[][][],\n  points: number[][],\n  stepsize: number\n}\n\nclass App extends React.Component<{}, AppState> {\n  state: AppState = {\n    frame: 0,\n    data: { a: [], b: [] },\n    fixed: { a: [], b: [] },\n    phaseData: [],\n    points: [],\n    stepsize: 0.1,\n    ctrnn: {\n      nodes: [\n        { bias: -2.75, timeConstant: 1.0 },\n        { bias: -1.75, timeConstant: 1.0 },\n      ],\n      weights: [\n        [4.5, 1.0],\n        [-1.0, 4.5]\n      ]\n    }\n  };\n  private ctrnn: Ctrnn = new Ctrnn(2);\n  private paused: boolean = false;\n  private start: number[] = [0.05, 0.15];\n  private animating: boolean = false;\n\n  updateNetwork(ctrnn: Ctrnn) {\n    this.state.ctrnn.nodes.forEach((node, index) => {\n      ctrnn.setNode(index, node);\n    });\n    this.state.ctrnn.weights.forEach((weights, to) => {\n      weights.forEach((weight, from) => {\n        ctrnn.setWeight(from, to, weight);\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.updateNetwork(this.ctrnn);\n    this.update();\n  }\n\n  onClick() {\n    this.paused = !this.paused;\n  }\n\n  onChangeNode(id: number, node: Node) {\n    this.state.ctrnn.nodes[id] = node;\n    this.ctrnn.setNode(id, node);\n    this.update();\n  }\n\n  onChangeWeight(from: number, to: number, weight: number) {\n    this.state.ctrnn.weights[to][from] = weight;\n    this.ctrnn.setWeight(from, to, weight);\n    this.update();\n  }\n\n  onChangeStart(point: Point) {\n    const app = this;\n    const old = this.start;\n    const offset = [point.x - old[0], point.y - old[1]];\n    const dist = Math.hypot(offset[0], offset[1]);\n    const duration = Math.max(Math.round(dist * 25), 5);\n    let t = 1;\n    if (this.animating) return;\n    this.animating = true;\n    function animate() {\n      const p = Math.pow(t / duration, 2);\n      app.start = [old[0] + offset[0] * p, old[1] + offset[1] * p];\n      app.update();\n      if (t++ < duration) requestAnimationFrame(animate);\n      else app.animating = false;\n    }\n    requestAnimationFrame(animate);\n  }\n\n  onChangeStepsize(value: number) {\n    this.setState({stepsize: value});\n    this.update();\n  }\n\n  updateFixed() {\n    let ctrnn = new Ctrnn(2);\n    this.updateNetwork(ctrnn);\n    const data: { a: Point[], b: Point[] } = {a: [], b: []};\n    const points: number[][] = [];\n    let frame = ctrnn.frameFromOutput(this.start);\n    const initial = ctrnn.getOutputs(frame);\n    data.a.push({x: 0, y: initial[0]});\n    data.b.push({x: 0, y: initial[1]});\n    points.push(initial);\n    let last_x = 0, s = this.state.stepsize;\n    for (let i = s; i <= 30; i += s) {\n      frame = ctrnn.tick(frame, [], this.state.stepsize);\n      const outputs = ctrnn.getOutputs(frame);\n      const x = Math.floor(i * 100) / 100;\n      if (x > last_x) {\n        last_x = x;\n        data.a.push({x: x, y: outputs[0]});\n        data.b.push({x: x, y: outputs[1]});\n        points.push(outputs);\n      }\n    }\n\n    frame = ctrnn.tick(frame, [], this.state.stepsize);\n    const last = [data.a[data.a.length - 1], data.b[data.b.length - 1]];\n    const outputs = ctrnn.getOutputs(frame);\n    const next = []\n    const left = (30 - last_x) / s;\n    console.log(left);\n    for (let i = 0; i < frame.length; i++) {\n      console.log(last[i].x, outputs[i]);\n      next.push(last[i].y + (outputs[i] - last[i].y) * left);\n    }\n    data.a.push({x: 30, y: next[0]});\n    data.b.push({x: 30, y: next[1]});\n    points.push(outputs);\n\n    this.setState({fixed: data, points: points});\n  }\n\n  updatePhase() {\n    let ctrnn = new Ctrnn(2);\n    this.updateNetwork(ctrnn);\n    const data: number[][][] = [];\n    field.forEach((row, y) => {\n      const line: number[][] = [];\n      row.forEach((point, x) => {\n        const biased = [\n          point[0] - this.state.ctrnn.nodes[0].bias,\n          point[1] - this.state.ctrnn.nodes[1].bias\n        ];\n        const control = ctrnn.getOutputs(biased);\n        const frame = ctrnn.tick(biased, [], this.state.stepsize);\n        const outputs = ctrnn.getOutputs(frame);\n        const diff = [outputs[0] - control[0], outputs[1] - control[1]];\n        const mag = Math.hypot(diff[0], diff[1]);\n        // const sqr = Math.sqrt(mag);\n        line.push([diff[0] / mag, diff[1] / mag]);\n      });\n      data.push(line);\n    });\n    this.setState({phaseData: data});\n  }\n\n  update() {\n    this.updateFixed();\n    this.updatePhase();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"Dashboard\">\n          <div className=\"Settings\">\n            <Card elevation={Elevation.ZERO}>\n              <Settings\n                ctrnn={this.state.ctrnn}\n                onChangeNode={this.onChangeNode.bind(this)}\n                onChangeWeight={this.onChangeWeight.bind(this)}\n                onChangeStepsize={this.onChangeStepsize.bind(this)}\n                stepsize={this.state.stepsize}\n              />\n            </Card>\n          </div>\n          <div className=\"Network\">\n            <Card elevation={Elevation.ZERO}>\n              <Network />\n            </Card>\n          </div>\n          <div className=\"SineWave\">\n            <Card elevation={Elevation.ZERO}>\n              <SineWave a={this.state.fixed.a} b={this.state.fixed.b} />\n            </Card>\n          </div>\n          <div className=\"PhasePortrait\">\n            <Card elevation={Elevation.ZERO}>\n              <PhasePortrait margin={15} data={this.state.phaseData}\n                points={this.state.points}\n                onChangeStart={this.onChangeStart.bind(this)} />\n            </Card>\n          </div>\n          <div className=\"PhysicalGraph\">\n            <Card elevation={Elevation.ZERO}>\n              <PhysicalGraph a={this.state.fixed.a} b={this.state.fixed.b} margin={15} />\n            </Card>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}